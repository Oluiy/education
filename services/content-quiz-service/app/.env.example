# EduNerve Content & Quiz Service Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================
SERVICE_NAME=content-quiz-service
ENVIRONMENT=development
DEBUG=true
VERSION=1.0.0

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
HOST=0.0.0.0
PORT=8002

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Generate a secure secret key (minimum 32 characters)
SECRET_KEY=your-super-secret-key-change-this-in-production-please-make-it-long-and-secure

# Token expiration times
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL (Recommended for production)
DATABASE_URL=postgresql://username:password@localhost:5432/edunerve_content_quiz

# SQLite (For development only)
# DATABASE_URL=sqlite:///./edunerve_content_quiz.db

# Database connection pool settings
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=1
REDIS_PASSWORD=
# Alternative: Full Redis URL
# REDIS_URL=redis://username:password@localhost:6379/1

# =============================================================================
# CORS AND SECURITY
# =============================================================================
# Comma-separated list of allowed hosts
ALLOWED_HOSTS=localhost,127.0.0.1,edunerve.com,*.edunerve.com

# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,https://edunerve.com,https://app.edunerve.com

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Other microservice URLs
AUTH_SERVICE_URL=http://localhost:8001
NOTIFICATION_SERVICE_URL=http://localhost:8003
FILE_STORAGE_SERVICE_URL=http://localhost:8004
ASSISTANT_SERVICE_URL=http://localhost:8005
ADMIN_SERVICE_URL=http://localhost:8006

# =============================================================================
# FILE HANDLING CONFIGURATION
# =============================================================================
# Maximum file size in bytes (50MB default)
MAX_FILE_SIZE=52428800

# Comma-separated list of allowed file extensions
ALLOWED_FILE_TYPES=.pdf,.docx,.txt,.png,.jpg,.jpeg,.mp4,.mp3,.pptx,.xlsx

# Upload directory
UPLOAD_DIR=uploads

# =============================================================================
# AI AND OPENAI CONFIGURATION
# =============================================================================
# OpenAI API key for AI-powered features
OPENAI_API_KEY=your-openai-api-key-here

# OpenAI model settings
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# =============================================================================
# RATE LIMITING
# =============================================================================
# Requests per minute
RATE_LIMIT_PER_MINUTE=100
UPLOAD_RATE_LIMIT=10
QUIZ_GENERATION_RATE_LIMIT=5

# =============================================================================
# PAGINATION SETTINGS
# =============================================================================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# =============================================================================
# CONTENT AND QUIZ SETTINGS
# =============================================================================
# Default quiz time limit in minutes
DEFAULT_QUIZ_TIME_LIMIT=60

# Maximum number of questions per quiz
MAX_QUIZ_QUESTIONS=100
MIN_QUIZ_QUESTIONS=5

# Content validation limits
MIN_LESSON_CONTENT_LENGTH=100
MAX_LESSON_CONTENT_LENGTH=50000

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================
# Cache TTL in seconds (1 hour default)
CACHE_TTL=3600

# Query cache size
QUERY_CACHE_SIZE=1000

# =============================================================================
# MONITORING AND HEALTH CHECKS
# =============================================================================
# Health check timeout in seconds
HEALTH_CHECK_TIMEOUT=5

# =============================================================================
# CLOUD STORAGE (Optional)
# =============================================================================
# Cloudinary configuration (for file storage)
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# AWS S3 configuration (alternative)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET_NAME=
AWS_S3_REGION=

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================
# SMTP settings for notifications
SMTP_SERVER=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true

# =============================================================================
# ANALYTICS AND MONITORING (Optional)
# =============================================================================
# Google Analytics
GOOGLE_ANALYTICS_ID=

# Sentry for error tracking
SENTRY_DSN=

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Set to true to enable debug features
ENABLE_DEBUG_ENDPOINTS=false

# Set to true to enable API documentation in production
ENABLE_DOCS_IN_PRODUCTION=false

# =============================================================================
# PRODUCTION OPTIMIZATION
# =============================================================================
# Number of worker processes (for gunicorn)
WORKERS=4

# Worker timeout in seconds
WORKER_TIMEOUT=120

# Keep alive timeout in seconds
KEEP_ALIVE_TIMEOUT=5

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
# Database backup settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable specific features
ENABLE_AI_FEATURES=true
ENABLE_FILE_UPLOAD=true
ENABLE_BULK_OPERATIONS=true
ENABLE_EXPORT_FEATURES=true

# =============================================================================
# CUSTOM SETTINGS
# =============================================================================
# Add any custom environment variables here
SCHOOL_DEFAULT_TIMEZONE=Africa/Lagos
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,yo,ha,ig
